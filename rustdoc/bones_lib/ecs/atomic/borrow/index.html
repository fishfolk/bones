<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module contains types that can be used to implement atomic borrowing."><title>bones_lib::ecs::atomic::borrow - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="bones_lib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.0 (254b59607 2026-01-19)" data-channel="1.93.0" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module borrow</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../bones_lib/index.html">bones_<wbr>lib</a><span class="version">0.4.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module borrow</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In bones_<wbr>lib::<wbr>ecs::<wbr>atomic</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">bones_lib</a>::<wbr><a href="../../index.html">ecs</a>::<wbr><a href="../index.html">atomic</a></div><h1>Module <span>borrow</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module contains types that can be used to implement atomic borrowing.</p>
<p><a href="../../../prelude/borrow/struct.AtomicBorrow.html" title="struct bones_lib::prelude::borrow::AtomicBorrow"><code>AtomicBorrow</code></a> is used to borrow immutably.<br />
<a href="struct.AtomicBorrow.html#method.try_new"><code>AtomicBorrow::try_new</code></a> locks an atomic in such a way
that it can be locked immutably again but not mutably.
It fails if already borrowed mutably.</p>
<p><a href="../../../prelude/borrow/struct.AtomicBorrowMut.html" title="struct bones_lib::prelude::borrow::AtomicBorrowMut"><code>AtomicBorrowMut</code></a> is used to borrow mutably.<br />
<a href="struct.AtomicBorrowMut.html#method.try_new"><code>AtomicBorrowMut::try_new</code></a> locks an atomic in such a way
that it cannot be locked again.
It fails if already borrowed.</p>
<p>Both types use <a href="https://doc.rust-lang.org/1.93.0/core/sync/atomic/struct.AtomicIsize.html" title="struct core::sync::atomic::AtomicIsize"><code>AtomicIsize</code></a> as a locking atomic.<br />
Where <code>0</code> means “not borrowed”,<br />
immutable borrows are represented by positive values<br />
and mutable borrows are represented by negative values.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AtomicBorrow.html" title="struct bones_lib::ecs::atomic::borrow::AtomicBorrow">Atomic<wbr>Borrow</a></dt><dd>Encapsulates shared borrowing state.</dd><dt><a class="struct" href="struct.AtomicBorrowMut.html" title="struct bones_lib::ecs::atomic::borrow::AtomicBorrowMut">Atomic<wbr>Borrow<wbr>Mut</a></dt><dd>Encapsulates exclusive borrowing state.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.check_read_refs_count.html" title="fn bones_lib::ecs::atomic::borrow::check_read_refs_count">check_<wbr>read_<wbr>refs_<wbr>count</a></dt><dd>Returns true if there are too many read refs.</dd><dt><a class="fn" href="fn.check_write_refs_count.html" title="fn bones_lib::ecs::atomic::borrow::check_write_refs_count">check_<wbr>write_<wbr>refs_<wbr>count</a></dt><dd>Returns true if there are too many write refs.</dd><dt><a class="fn" href="fn.clone_borrow.html" title="fn bones_lib::ecs::atomic::borrow::clone_borrow">clone_<wbr>borrow</a></dt><dd>Clones immutable borrow of specified lock.
This function MUST be called only when lock is already borrowed immutably.</dd><dt><a class="fn" href="fn.clone_borrow_mut.html" title="fn bones_lib::ecs::atomic::borrow::clone_borrow_mut">clone_<wbr>borrow_<wbr>mut</a></dt><dd>Clones mutable borrow of specified lock.
This function MUST be called only when lock is already borrowed mutably.</dd><dt><a class="fn" href="fn.is_borrowed.html" title="fn bones_lib::ecs::atomic::borrow::is_borrowed">is_<wbr>borrowed</a></dt><dd>Returns true if specified lock value is borrowed.</dd><dt><a class="fn" href="fn.is_reading.html" title="fn bones_lib::ecs::atomic::borrow::is_reading">is_<wbr>reading</a></dt><dd>Returns true if specified lock value is borrowed immutably.</dd><dt><a class="fn" href="fn.is_writing.html" title="fn bones_lib::ecs::atomic::borrow::is_writing">is_<wbr>writing</a></dt><dd>Returns true if specified lock value is borrowed mutably.</dd><dt><a class="fn" href="fn.new_lock.html" title="fn bones_lib::ecs::atomic::borrow::new_lock">new_<wbr>lock</a></dt><dd>Create atomic borrow lock.
Initially not borrowed.</dd><dt><a class="fn" href="fn.release_borrow.html" title="fn bones_lib::ecs::atomic::borrow::release_borrow">release_<wbr>borrow</a></dt><dd>Releases immutable borrow of specified lock.
This function MUST be called only when lock is borrowed immutably.
This function MUST be called only once for each succefful borrow and borrow clone.</dd><dt><a class="fn" href="fn.release_borrow_mut.html" title="fn bones_lib::ecs::atomic::borrow::release_borrow_mut">release_<wbr>borrow_<wbr>mut</a></dt><dd>Releases mutable borrow of specified lock.
This function MUST be called only when lock is borrowed mutably.
This function MUST be called only once for each succefful borrow and borrow clone.</dd><dt><a class="fn" href="fn.try_borrow.html" title="fn bones_lib::ecs::atomic::borrow::try_borrow">try_<wbr>borrow</a></dt><dd>Attempts to borrow specified lock immutably.</dd><dt><a class="fn" href="fn.try_borrow_mut.html" title="fn bones_lib::ecs::atomic::borrow::try_borrow_mut">try_<wbr>borrow_<wbr>mut</a></dt><dd>Attempts to borrow specified lock mutably.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.Lock.html" title="type bones_lib::ecs::atomic::borrow::Lock">Lock</a></dt><dd>Lock type used by [<code>AtomicCell</code>].</dd></dl></section></div></main></body></html>